const sections = [
    //Maths Section
    [
        {
          "question": "What is 10% of 50?",
          "options": ["2", "5", "10", "15"],
          "answer": "5"
        },
        {
          "question": "If a dozen eggs cost ‚Çπ60, how much does one egg cost?",
          "options": ["‚Çπ3", "‚Çπ4", "‚Çπ5", "‚Çπ6"],
          "answer": "‚Çπ5"
        },
        {
          "question": "What is the next number in the sequence: 2, 4, 6, 8, ?",
          "options": ["9", "10", "11", "12"],
          "answer": "10"
        },
        {
          "question": "What is 50% of 20?",
          "options": ["5", "10", "15", "20"],
          "answer": "10"
        },
        {
          "question": "If 3 apples cost ‚Çπ15, how much does 1 apple cost?",
          "options": ["‚Çπ3", "‚Çπ4", "‚Çπ5", "‚Çπ6"],
          "answer": "‚Çπ5"
        },
        {
          "question": "What is 100 - 25?",
          "options": ["50", "65", "75", "80"],
          "answer": "75"
        },
        {
          "question": "If 2 books cost ‚Çπ40, how much do 4 books cost?",
          "options": ["‚Çπ60", "‚Çπ80", "‚Çπ100", "‚Çπ120"],
          "answer": "‚Çπ80"
        },
        {
          "question": "What is 20 + 30?",
          "options": ["40", "50", "60", "70"],
          "answer": "50"
        },
        {
          "question": "If a person walks 5 km in 1 hour, how far will they walk in 3 hours?",
          "options": ["8 km", "10 km", "15 km", "20 km"],
          "answer": "15 km"
        },
        {
          "question": "What is half of 18?",
          "options": ["6", "9", "12", "15"],
          "answer": "9"
        },
        {
          "question": "If 4 pens cost ‚Çπ20, how much does 1 pen cost?",
          "options": ["‚Çπ3", "‚Çπ4", "‚Çπ5", "‚Çπ6"],
          "answer": "‚Çπ5"
        },
        {
          "question": "What is 25 + 25?",
          "options": ["40", "50", "60", "70"],
          "answer": "50"
        },
        {
          "question": "If 1 kg of sugar costs ‚Çπ40, how much does 2 kg cost?",
          "options": ["‚Çπ60", "‚Çπ80", "‚Çπ100", "‚Çπ120"],
          "answer": "‚Çπ80"
        },
        {
          "question": "What is 30 √∑ 3?",
          "options": ["5", "10", "15", "20"],
          "answer": "10"
        },
        {
          "question": "If a car travels 60 km in 2 hours, what is its speed in km/hr?",
          "options": ["20 km/hr", "30 km/hr", "40 km/hr", "60 km/hr"],
          "answer": "30 km/hr"
        },
        {
          "question": "What is the value of 5 x 6?",
          "options": ["20", "25", "30", "35"],
          "answer": "30"
        },
        {
          "question": "If 5 oranges cost ‚Çπ25, how much does 1 orange cost?",
          "options": ["‚Çπ3", "‚Çπ4", "‚Çπ5", "‚Çπ6"],
          "answer": "‚Çπ5"
        },
        {
          "question": "What is 70 - 30?",
          "options": ["30", "40", "50", "60"],
          "answer": "40"
        },
        {
          "question": "If 3 shirts cost ‚Çπ600, how much does 1 shirt cost?",
          "options": ["‚Çπ100", "‚Çπ150", "‚Çπ200", "‚Çπ250"],
          "answer": "‚Çπ200"
        },
        {
          "question": "What is 40 √∑ 4?",
          "options": ["5", "10", "15", "20"],
          "answer": "10"
        },
        {
          "question": "If a train travels 80 km in 4 hours, what is its speed in km/hr?",
          "options": ["10 km/hr", "20 km/hr", "30 km/hr", "40 km/hr"],
          "answer": "20 km/hr"
        },
        {
          "question": "What is the value of 8 x 3?",
          "options": ["18", "21", "24", "27"],
          "answer": "24"
        },
        {
          "question": "If 2 bananas cost ‚Çπ10, how much does 1 banana cost?",
          "options": ["‚Çπ3", "‚Çπ4", "‚Çπ5", "‚Çπ6"],
          "answer": "‚Çπ5"
        },
        {
          "question": "What is 90 - 40?",
          "options": ["40", "50", "60", "70"],
          "answer": "50"
        },
        {
          "question": "If 4 chairs cost ‚Çπ800, how much does 1 chair cost?",
          "options": ["‚Çπ100", "‚Çπ150", "‚Çπ200", "‚Çπ250"],
          "answer": "‚Çπ200"
        }
      ],
    // Reasoning Section
    [
        {
          "question": "Select the related word/letters/number from the given alternatives. 2 : 10 :: 3 : ?",
          "options": ["15", "18", "21", "24"],
          "answer": "18"
        },
        {
          "question": "Choose the figure which is different from the rest.",
          "options": ["Square", "Circle", "Triangle", "Rectangle"],
          "answer": "Circle"
        },
        {
          "question": "If 'PEN' is coded as '16514', then 'CAP' will be coded as:",
          "options": ["3116", "3115", "4116", "4115"],
          "answer": "3116"
        },
        {
          "question": "Find the missing number in the series: 4, 8, 12, 16, ?",
          "options": ["18", "20", "22", "24"],
          "answer": "20"
        },
        {
          "question": "If 'RED' is called 'BLUE', 'BLUE' is called 'YELLOW', 'YELLOW' is called 'GREEN', what is the color of the sky?",
          "options": ["Red", "Blue", "Yellow", "Green"],
          "answer": "Yellow"
        },
        {
          "question": "A is the brother of B. C is the father of A. How is C related to B?",
          "options": ["Mother", "Father", "Sister", "Brother"],
          "answer": "Father"
        },
        {
          "question": "Find the odd one out: January, February, March, April.",
          "options": ["January", "February", "March", "April"],
          "answer": "April"
        },
        {
          "question": "If 'CAT' is related to 'DOG', then 'LION' is related to:",
          "options": ["Tiger", "Elephant", "Cub", "Horse"],
          "answer": "Tiger"
        },
        {
          "question": "Which number replaces the question mark? 2, 4, 6, 8, ?",
          "options": ["9", "10", "11", "12"],
          "answer": "10"
        },
        {
          "question": "If 'WATER' is written as 'YCVGT', then 'FIRE' is written as:",
          "options": ["HKTG", "HKRJ", "HJRG", "HJTG"],
          "answer": "HKTG"
        },
        {
          "question": "Complete the series: A, C, E, G, ?",
          "options": ["H", "I", "J", "K"],
          "answer": "I"
        },
        {
          "question": "If 'TABLE' is coded as 'UBAMF', then 'CHAIR' is coded as:",
          "options": ["DIBSJ", "BIDHS", "IDJSB", "SBJID"],
          "answer": "DIBSJ"
        },
        {
          "question": "Find the missing number: 1, 4, 9, 16, ?",
          "options": ["20", "25", "30", "36"],
          "answer": "25"
        },
        {
          "question": "If 'SUN' is called 'MOON', 'MOON' is called 'STAR', 'STAR' is called 'PLANET', then what do we see at night?",
          "options": ["Sun", "Moon", "Star", "Planet"],
          "answer": "Planet"
        },
        {
          "question": "If 'SIT' is coded as '123', then 'RAT' will be coded as:",
          "options": ["456", "567", "678", "789"],
          "answer": "456"
        },
        {
          "question": "Complete the series: 5, 10, 15, 20, ?",
          "options": ["22", "24", "25", "28"],
          "answer": "25"
        },
        {
          "question": "Find the odd one out: Chair, Table, Sofa, Tree.",
          "options": ["Chair", "Table", "Sofa", "Tree"],
          "answer": "Tree"
        },
        {
          "question": "If 'BOOK' is related to 'READ', then 'MUSIC' is related to:",
          "options": ["Dance", "Listen", "Play", "Sing"],
          "answer": "Listen"
        },
        {
          "question": "Which number replaces the question mark? 3, 6, 9, 12, ?",
          "options": ["13", "14", "15", "16"],
          "answer": "15"
        },
        {
          "question": "If 'EARTH' is written as 'FBSUI', then 'MOON' is written as:",
          "options": ["NPPO", "NPPN", "NPOM", "NPOO"],
          "answer": "NPPO"
        },
        {
          "question": "Complete the series: Z, X, V, T, ?",
          "options": ["R", "S", "U", "W"],
          "answer": "R"
        },
        {
          "question": "If 'LIME' is coded as 'MJNF', then 'DATE' is coded as:",
          "options": ["EBUF", "EBSF", "ECUF", "ECSF"],
          "answer": "EBUF"
        },
        {
          "question": "Find the missing number: 3, 6, 12, 24, ?",
          "options": ["36", "48", "60", "72"],
          "answer": "48"
        },
        {
          "question": "If 'GREEN' is called 'WHITE', 'WHITE' is called 'YELLOW', 'YELLOW' is called 'BLUE', what is the color of milk?",
          "options": ["Green", "White", "Yellow", "Blue"],
          "answer": "Yellow"
        },
        {
          "question": "If 'TEA' is coded as '2051', then 'COFFEE' will be coded as:",
          "options": ["3156655", "3156656", "3156645", "3156646"],
          "answer": "3156655"
        }
      ],

    // GK/GS/Current Affairs Section
    [
        {
          "question": "Which is the largest continent in the world?",
          "options": ["Africa", "Europe", "Asia", "North America"],
          "answer": "Asia"
        },
        {
          "question": "What is the capital of India?",
          "options": ["Mumbai", "Kolkata", "Delhi", "Chennai"],
          "answer": "Delhi"
        },
        {
          "question": "Which planet is known as the 'Red Planet'?",
          "options": ["Venus", "Mars", "Jupiter", "Saturn"],
          "answer": "Mars"
        },
        {
          "question": "Who wrote the Indian National Anthem?",
          "options": ["Mahatma Gandhi", "Rabindranath Tagore", "Jawaharlal Nehru", "Sardar Patel"],
          "answer": "Rabindranath Tagore"
        },
        {
          "question": "What is the main source of energy for the Earth?",
          "options": ["Moon", "Stars", "Sun", "Wind"],
          "answer": "Sun"
        },
        {
          "question": "Which is the largest ocean in the world?",
          "options": ["Atlantic Ocean", "Indian Ocean", "Arctic Ocean", "Pacific Ocean"],
          "answer": "Pacific Ocean"
        },
        {
          "question": "Which animal is known as the 'King of the Jungle'?",
          "options": ["Elephant", "Tiger", "Lion", "Giraffe"],
          "answer": "Lion"
        },
        {
          "question": "What is the name of the largest desert in the world?",
          "options": ["Sahara Desert", "Gobi Desert", "Antarctic Polar Desert", "Arabian Desert"],
          "answer": "Antarctic Polar Desert"
        },
        {
          "question": "Which festival is known as the 'Festival of Lights' in India?",
          "options": ["Holi", "Diwali", "Eid", "Christmas"],
          "answer": "Diwali"
        },
        {
          "question": "What is the currency of India?",
          "options": ["Dollar", "Euro", "Rupee", "Pound"],
          "answer": "Rupee"
        },
        {
          "question": "Which gas do plants use for photosynthesis?",
          "options": ["Oxygen", "Nitrogen", "Carbon dioxide", "Hydrogen"],
          "answer": "Carbon dioxide"
        },
        {
          "question": "Which is the tallest mountain in the world?",
          "options": ["K2", "Mount Everest", "Kangchenjunga", "Lhotse"],
          "answer": "Mount Everest"
        },
        {
          "question": "What is the name of the largest river in the world?",
          "options": ["Nile", "Amazon", "Yangtze", "Mississippi"],
          "answer": "Amazon"
        },
        {
          "question": "How many colors are there in a rainbow?",
          "options": ["5", "6", "7", "8"],
          "answer": "7"
        },
        {
          "question": "Which is the fastest animal on land?",
          "options": ["Lion", "Tiger", "Cheetah", "Horse"],
          "answer": "Cheetah"
        },
        {
          "question": "What is the name of the national tree of India?",
          "options": ["Mango tree", "Banyan tree", "Neem tree", "Coconut tree"],
          "answer": "Banyan tree"
        },
        {
          "question": "Which state is known as the 'Spice Garden of India'?",
          "options": ["Kerala", "Tamil Nadu", "Karnataka", "Andhra Pradesh"],
          "answer": "Kerala"
        },
        {
          "question": "What is the name of the largest bird in the world?",
          "options": ["Eagle", "Penguin", "Ostrich", "Albatross"],
          "answer": "Ostrich"
        },
        {
          "question": "Which is the largest democracy in the world?",
          "options": ["USA", "China", "India", "Brazil"],
          "answer": "India"
        },
        {
          "question": "What is the name of the biggest bone in the human body?",
          "options": ["Tibia", "Femur", "Humerus", "Radius"],
          "answer": "Femur"
        },
        {
          "question": "Which is the national flower of India?",
          "options": ["Rose", "Lotus", "Sunflower", "Marigold"],
          "answer": "Lotus"
        },
        {
          "question": "What is the name of the instrument used to measure blood pressure?",
          "options": ["Thermometer", "Barometer", "Sphygmomanometer", "Hygrometer"],
          "answer": "Sphygmomanometer"
        },
        {
          "question": "Which is the largest mammal in the world?",
          "options": ["Elephant", "Giraffe", "Blue Whale", "Hippopotamus"],
          "answer": "Blue Whale"
        },
        {
          "question": "What is the name of the first satellite launched by India?",
          "options": ["Rohini", "Aryabhata", "Bhaskara", "Apple"],
          "answer": "Aryabhata"
        },
        {
          "question": "Which is the most widely spoken language in the world?",
          "options": ["English", "Spanish", "Mandarin Chinese", "Hindi"],
          "answer": "Mandarin Chinese"
        }
      ],
      //english
      [
        {
          "question": "Choose the synonym of 'HAPPY'.",
          "options": ["Sad", "Joyful", "Angry", "Tired"],
          "answer": "Joyful"
        },
        {
          "question": "Select the antonym of 'FAST'.",
          "options": ["Quick", "Slow", "Rapid", "Swift"],
          "answer": "Slow"
        },
        {
          "question": "Which word is correctly spelled?",
          "options": ["Beutiful", "Beautiful", "Beutifull", "Beutefull"],
          "answer": "Beautiful"
        },
        {
          "question": "Fill in the blank: He is a ______ boy.",
          "options": ["Slowly", "Fast", "Good", "Badly"],
          "answer": "Good"
        },
        {
          "question": "What is the meaning of the phrase 'to look up to'?",
          "options": ["To dislike", "To respect", "To ignore", "To forget"],
          "answer": "To respect"
        },
        {
          "question": "Choose the one word for 'A person who writes books'.",
          "options": ["Doctor", "Teacher", "Writer", "Singer"],
          "answer": "Writer"
        },
        {
          "question": "Find the error: I am going to markets.",
          "options": ["I am going", "to markets", "no error", "going to"],
          "answer": "to markets"
        },
        {
          "question": "Change to passive voice: She writes a letter.",
          "options": ["A letter wrote by her.", "A letter is written by her.", "She is writing a letter.", "A letter was written by her."],
          "answer": "A letter is written by her."
        },
        {
          "question": "Change to indirect speech: He said, 'I am tired'.",
          "options": ["He said I am tired.", "He said that he was tired.", "He says he is tired.", "He said he is tired."],
          "answer": "He said that he was tired."
        },
        {
          "question": "Fill in the blank with a/an/the: He is ______ honest man.",
          "options": ["a", "an", "the", "no article"],
          "answer": "an"
        },
        {
          "question": "Choose the synonym of 'BEGIN'.",
          "options": ["End", "Start", "Finish", "Stop"],
          "answer": "Start"
        },
        {
          "question": "Select the antonym of 'EASY'.",
          "options": ["Simple", "Hard", "Light", "Soft"],
          "answer": "Hard"
        },
        {
          "question": "Which word is correctly spelled?",
          "options": ["Frind", "Friend", "Freind", "Freand"],
          "answer": "Friend"
        },
        {
          "question": "Fill in the blank: The cat is ______ the table.",
          "options": ["in", "on", "at", "under"],
          "answer": "under"
        },
        {
          "question": "What is the meaning of the phrase 'to break the ice'?",
          "options": ["To make people feel nervous", "To make people feel comfortable", "To make people feel angry", "To make people feel sad"],
          "answer": "To make people feel comfortable"
        },
        {
          "question": "Choose the one word for 'A place where birds are kept'.",
          "options": ["Zoo", "Garden", "Aviary", "Stable"],
          "answer": "Aviary"
        },
        {
          "question": "Find the error: They was playing cricket.",
          "options": ["They was", "playing cricket", "no error", "was playing"],
          "answer": "They was"
        },
        {
          "question": "Change to passive voice: The dog ate the bone.",
          "options": ["The bone is eaten by the dog.", "The bone was eaten by the dog.", "The dog is eating the bone.", "The bone will be eaten by the dog."],
          "answer": "The bone was eaten by the dog."
        },
        {
          "question": "Change to indirect speech: She said, 'I like flowers'.",
          "options": ["She said I like flowers.", "She said that she liked flowers.", "She says she likes flowers.", "She said she like flowers."],
          "answer": "She said that she liked flowers."
        },
        {
          "question": "Fill in the blank with a/an/the: He is ______ best player.",
          "options": ["a", "an", "the", "no article"],
          "answer": "the"
        },
        {
          "question": "Choose the synonym of 'SMALL'.",
          "options": ["Big", "Tiny", "Large", "Huge"],
          "answer": "Tiny"
        },
        {
          "question": "Select the antonym of 'UP'.",
          "options": ["High", "Down", "Above", "Top"],
          "answer": "Down"
        },
        {
          "question": "Which word is correctly spelled?",
          "options": ["Answer", "Anser", "Answar", "Ansower"],
          "answer": "Answer"
        },
        {
          "question": "Fill in the blank: She goes ______ school.",
          "options": ["in", "to", "at", "on"],
          "answer": "to"
        },
        {
          "question": "What is the meaning of the phrase 'to get along'?",
          "options": ["To fight", "To agree", "To argue", "To disagree"],
          "answer": "To agree"
        }
      ]
]
let currentSection = 0;
let currentQuestion = 0;
let answers = {};
let markedForReview = [];
let skippedQuestions = [];
let timeLeft = 60 * 60;
let timerInterval;

// Start Timer
function startTimer() {
timerInterval = setInterval(function () {
    let minutes = Math.floor(timeLeft / 60);
    let seconds = timeLeft % 60;
    document.getElementById("timer").innerText = `Time Left: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
    if (timeLeft === 0) {
        clearInterval(timerInterval);
        submitTest();
    }
    timeLeft--;
}, 1000);
}

// Load Question
function loadQuestion(index) {
const q = sections[currentSection][index];
document.getElementById("question").innerText = `${getQuestionNumber(index)}. ${q.question}`;
const options = q.options.map((option, i) => `
    <input type="radio" name="answer" id="opt${i}" value="${option}" ${answers[`${currentSection}-${index}`] === option ? "checked" : ""}>
    <label for="opt${i}">${option}</label><br>
`).join("");
document.getElementById("options").innerHTML = options;
}



// Get Correct Question Number
function getQuestionNumber(index) {
return currentSection * 25 + index + 1;
}

// Store Answer
function storeAnswer() {
const selectedOption = document.querySelector('input[name="answer"]:checked');
if (selectedOption) {
    answers[`${currentSection}-${currentQuestion}`] = selectedOption.value;
}
}

// Switch Section
function switchSection(sectionIndex) {
storeAnswer();
currentSection = sectionIndex;
currentQuestion = 0;
loadQuestion(currentQuestion);
updateSectionBar();
}

// Highlight Active Section
function updateSectionBar() {
document.querySelectorAll('.section-bar button').forEach((btn, index) => {
    if (index === currentSection) {
        btn.classList.add('active');
    } else {
        btn.classList.remove('active');
    }
});
}

// Mark for Review
function markForReview() {
const qIndex = `${currentSection}-${currentQuestion}`;
if (!markedForReview.includes(qIndex)) {
    markedForReview.push(qIndex);
    updateReviewList();
    // alert("Question marked for review.");
}
}

// Skip Question
// Skip Question
function skipQuestion() {
const qIndex = `${currentSection}-${currentQuestion}`;

// Add skipped status to the button
if (!skippedQuestions.includes(qIndex)) {
    skippedQuestions.push(qIndex);
}

// Update button color for skipped question
const questionNumber = getQuestionNumber(currentQuestion);
const skippedBtn = document.getElementById(`btn${questionNumber}`);
if (skippedBtn) {
    skippedBtn.classList.add("skipped"); // Add skipped class
}

nextQuestion(); // Move to next question after skipping
}


// Next Question
function nextQuestion() {
storeAnswer();
if (currentQuestion < sections[currentSection].length - 1) {
    currentQuestion++;
    loadQuestion(currentQuestion);
    updateQuestionPanel(); // Update button status
} else {
    alert("You have reached the last question in this section.");
}
}

// Previous Question
function previousQuestion() {
storeAnswer(); // Save current answer before moving
if (currentQuestion > 0) {
    currentQuestion--; // Move to previous question
    loadQuestion(currentQuestion);
    updateQuestionPanel();
} 
else {
    alert("You are at the first question in this section.");
}
}


// Submit Test
function submitTest() {
storeAnswer(); // Save the current answer
clearInterval(timerInterval); // Stop the timer
calculateResult(); // Calculate the result

// Hide modal if visible
const modal = document.getElementById("exitModal");
if (modal) modal.classList.add("hidden");

// Show result and solutions
document.getElementById("result").classList.remove("hidden");
document.getElementById("solutions").classList.remove("hidden");

// Hide navigation and control buttons after submission
document.querySelectorAll(".nav-btn, #markReviewBtn, #skipBtn, #submitBtn").forEach(btn => {
    btn.style.display = "none";
});

// Hide question panel after submission
document.getElementById("questionPanel").style.display = "none";

// Hide question container after submission
document.getElementById("question-container").style.display = "none";

// Hide horizontal panel after submission
 document.querySelector(".panel-container").style.display = "none";

// Hide all section buttons after submission
document.querySelectorAll(".section-bar button").forEach(btn => {
    btn.style.display = "none";
});

 // Hide the section bar itself after submission
 document.querySelector(".section-bar").style.display = "none";

// Hide all other buttons if any
document.querySelectorAll("button").forEach(btn => {
    btn.style.display = "none";
});

// Hide the timer after submission
document.getElementById("timer").style.display = "none";

 // Disable all answer options after submission
disableOptions(); 
}
function confirmExit() {
document.getElementById("exitModal").classList.remove("hidden");
}

function closeExitModal() {
document.getElementById("exitModal").classList.add("hidden");
}


// Calculate Result
function calculateResult() {
let score = 0;
let correctCount = 0;
let wrongCount = 0;
let unattemptedCount = 0;
let totalQuestions = 100; // Total number of questions
let solutionText = "<h3>Solutions:</h3>";
let solutionCounter = 1; // Counter for solution numbering (from 1 to 100)

sections.forEach((section, sIndex) => {
    section.forEach((q, qIndex) => {
        const qID = `${sIndex}-${qIndex}`;
        const userAnswer = answers[qID] || "No Answer";
        const correctAnswer = q.answer;

        // Check correctness
        if (userAnswer === correctAnswer) {
            score += 2; // Correct answer +2
            correctCount++;
            solutionText += `
                <div style="margin-bottom: 10px;">
                    <b>${solutionCounter}. ${q.question}</b><br>
                    Your Answer: <b>${userAnswer}</b> | Correct Answer: <b>${correctAnswer}</b><br>
                    <span style="color:green;">Correct ‚úîÔ∏è (+2)</span>
                </div>`;
        } 
        else if (userAnswer === "No Answer") {
            unattemptedCount++;
            solutionText += `
                <div style="margin-bottom: 10px;">
                    <b>${solutionCounter}. ${q.question}</b><br>
                    <span style="color:orange;">Not Attempted ‚ùó (0)</span><br>
                    Correct Answer: <b>${correctAnswer}</b>
                </div>`;
        } 
        else {
            score -= 0.25; // Wrong answer -0.25
            wrongCount++;
            solutionText += `
                <div style="margin-bottom: 10px;">
                    <b>${solutionCounter}. ${q.question}</b><br>
                    Your Answer: <b>${userAnswer}</b> | Correct Answer: <b>${correctAnswer}</b><br>
                    <span style="color:red;">Wrong ‚ùå (-0.25)</span>
                </div>`;
        }
        solutionCounter++; // Increment solution counter
    });
});

// Calculate total marks out of 200
let totalMarks = 200;

// Display results
document.getElementById("result").innerHTML = `
    <h3>Total Marks: ${score} / ${totalMarks}</h3>
    <div id="summary">
        <p>‚úÖ Correct Answers: <b>${correctCount}</b> | Marks: <b>${correctCount * 2}</b></p>
        <p>‚ùå Wrong Answers: <b>${wrongCount}</b> | Deducted: <b>${(wrongCount * 0.25).toFixed(2)}</b></p>
        <p>‚è© Not Attempted: <b>${unattemptedCount}</b></p>
    </div>
`;
document.getElementById("solutions").innerHTML = solutionText;
}

// Update Review List
function updateReviewList() {
document.getElementById("reviewed-questions").innerHTML = `Marked for Review: ${markedForReview.join(", ")}`;
}

// Disable Options after Submission
function disableOptions() {
document.querySelectorAll('input[name="answer"]').forEach(option => {
    option.disabled = true; // Disable only question options
});
}
function updateQuestionStatus() {
let statusHTML = "";
let totalQuestions = sections.reduce((sum, section) => sum + section.length, 0);

for (let i = 0; i < totalQuestions; i++) {
    const sectionIndex = Math.floor(i / 25);
    const questionIndex = i % 25;
    const qIndex = `${sectionIndex}-${questionIndex}`;
    
    if (markedForReview.includes(qIndex)) {
        statusHTML += `<div class="question-status review">üîç Q${i + 1}: Marked for Review</div>`;
    } 
    else if (answers[qIndex]) {
        statusHTML += `<div class="question-status attempted">‚úÖ Q${i + 1}: Attempted</div>`;
    } 
    else {
        statusHTML += `<div class="question-status not-attempted">‚ùå Q${i + 1}: Not Attempted</div>`;
    }
}
document.getElementById("questionStatusList").innerHTML = statusHTML;
}

// Total number of questions
const totalQuestions = 100;

// Generate question buttons dynamically
function createQuestionButtons() {
const questionPanel = document.getElementById("questionPanel");
questionPanel.innerHTML = ""; // Clear previous buttons

for (let i = 1; i <= totalQuestions; i++) {
    const btn = document.createElement("button");
    btn.innerText = i;
    btn.className = "question-btn";
    btn.id = `btn${i}`;
    btn.onclick = () => handleQuestionClick(i); // Attach click event
    questionPanel.appendChild(btn);
}
}


// Handle Question Button Click
function handleQuestionClick(questionNumber) {
storeAnswer(); // Save current answer before switching
const sectionIndex = Math.floor((questionNumber - 1) / 25); // Get section based on question number
const questionIndex = (questionNumber - 1) % 25; // Get question index in the section

if (sections[sectionIndex] && sections[sectionIndex][questionIndex]) {
    currentSection = sectionIndex; // Switch to the correct section
    currentQuestion = questionIndex; // Set to the correct question
    loadQuestion(currentQuestion);
    updateSectionBar(); // Highlight the correct section
} else {
    alert("Invalid question number!");
}
}

// Update Button Status
function updateQuestionPanel() {
for (let i = 1; i <= totalQuestions; i++) {
    const sectionIndex = Math.floor((i - 1) / 25);
    const questionIndex = (i - 1) % 25;
    const qIndex = `${sectionIndex}-${questionIndex}`;
    const btn = document.getElementById(`btn${i}`);

    if (markedForReview.includes(qIndex)) {
        btn.className = "question-btn marked";
    } 
    else if (skippedQuestions.includes(qIndex)) {
        btn.className = "question-btn skipped"; // Set to skipped if question was skipped
    } 
    else if (answers[qIndex]) {
        btn.className = "question-btn answered";
    } 
    else {
        btn.className = "question-btn not-answered";
    }
}
}



// Initialize the test
window.onload = function () {
loadQuestion(currentQuestion);
updateSectionBar();
startTimer();
createQuestionButtons();
updateQuestionPanel();
};

